<div class="layout-wrapper">
  <!-- Header com Menu Principal e Logout - Apenas para usuários autenticados -->
  <app-header *ngIf="isAuthenticated"></app-header>

  <!-- Conteúdo Principal -->
  <main class="layout-main">
    <div class="layout-content">
      <!-- Error Message -->
      <div *ngIf="errorMessage" class="error-banner p-3 mb-3">
        <p-message 
          severity="error" 
          [text]="errorMessage"
          [closable]="true"
          (onClose)="dismissError()">
        </p-message>
      </div>

      <!-- Navigation Loading -->
      <div *ngIf="isNavigating" class="navigation-loading">
        <app-loading-spinner 
          message="Carregando página..."
          [overlay]="false">
        </app-loading-spinner>
      </div>

      <!-- Área de conteúdo dinâmico -->
      <div class="content-wrapper fade-in" [class.loading]="isNavigating">
        <router-outlet></router-outlet>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="layout-footer">
    <div class="flex justify-content-between align-items-center p-3 bg-surface-100 border-top-1 surface-border">
      <div class="text-sm text-600">
        © 2025 Sistema de Gestão Escolar. Todos os direitos reservados.
      </div>
      <div class="text-sm text-600">
        Versão 1.0.0
      </div>
    </div>
  </footer>
</div>

<!-- Toast para notificações -->
<p-toast position="top-right" [life]="5000"></p-toast>